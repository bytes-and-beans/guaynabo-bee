{% set offset = craft.app().getUrlParam('offset') ?? null %}
{% set number = craft.app().getUrlParam('number') ?? 1 %}
{% set query = craft.entries().section('news').offset(offset).limit(number) %}
{# {% if not query.exists %} {% exit 204 %} {% endif %} #}
{
    "noMoreArticles": {{ ((craft.entries().section('news').count() - (offset + number) ) <= 0) ? 'true' : 'false' }},
    "articles": [
        {% for article in query.all() %}
            {
                "title": "{{ article.title }}",
                "summary": "{{ article.summary | replace({"\n": "", "\r": "", "\t": ""}) }}",
                "fimage": "{{ article.featureImage.one().url }}"
            }{{ not loop.last ? ',' :''}}
        {% endfor %}
    ]
}
